{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "tour-controls",
  "type": "registry:component",
  "title": "Tour Controls",
  "description": "Navigation buttons (Back, Next, Skip) for tour step progression.",
  "dependencies": [
    "@flowsterix/headless"
  ],
  "registryDependencies": [
    "tour-provider",
    "button"
  ],
  "files": [
    {
      "path": "registry/flowsterix/tour-controls.tsx",
      "content": "'use client'\n\nimport { useTour } from '@flowsterix/headless'\nimport * as React from 'react'\n\nimport { Button } from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\n\nexport interface TourControlsProps {\n  /** Additional class names for the controls container */\n  className?: string\n  /** Whether to show the skip button (default: true) */\n  showSkip?: boolean\n  /** Whether to show the back button (default: true) */\n  showBack?: boolean\n  /** Custom labels for buttons */\n  labels?: {\n    back?: string\n    next?: string\n    finish?: string\n    skip?: string\n  }\n  /** Button variant for primary action */\n  primaryVariant?: 'default' | 'secondary' | 'outline' | 'ghost'\n  /** Button variant for secondary actions */\n  secondaryVariant?: 'default' | 'secondary' | 'outline' | 'ghost'\n}\n\nexport function TourControls({\n  className,\n  showSkip = true,\n  showBack = true,\n  labels,\n  primaryVariant = 'default',\n  secondaryVariant = 'outline',\n}: TourControlsProps) {\n  const { state, activeStep, next, back, cancel } = useTour()\n\n  const isRunning = state?.status === 'running'\n  const currentIndex = state?.stepIndex ?? 0\n  const isFirstStep = currentIndex === 0\n  const isLastStep = activeStep\n    ? state?.stepIndex === (state as any)?.flow?.steps?.length - 1\n    : false\n\n  // Check if step has manual advance rule (shows next button)\n  const hasManualAdvance = React.useMemo(() => {\n    if (!activeStep?.advance) return true // Default to manual\n    return activeStep.advance.some((rule: any) => rule.type === 'manual')\n  }, [activeStep])\n\n  // Check if back is disabled by advance rules\n  const backLocked = React.useMemo(() => {\n    if (!activeStep?.advance) return false\n    return activeStep.advance.some((rule: any) => rule.lockBack)\n  }, [activeStep])\n\n  if (!isRunning || !activeStep) {\n    return null\n  }\n\n  const showBackButton = showBack && !isFirstStep && !backLocked\n  const showNextButton = hasManualAdvance\n\n  return (\n    <div\n      className={cn('mt-4 flex items-center justify-between gap-2', className)}\n      data-tour-controls=\"\"\n    >\n      {/* Secondary actions: Back + Skip */}\n      <div className=\"flex items-center gap-2\">\n        {showBackButton && (\n          <Button\n            variant={secondaryVariant}\n            size=\"sm\"\n            onClick={() => back()}\n            data-tour-button=\"back\"\n          >\n            {labels?.back ?? 'Back'}\n          </Button>\n        )}\n        {showSkip && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => cancel('skipped')}\n            data-tour-button=\"skip\"\n          >\n            {labels?.skip ?? 'Skip tour'}\n          </Button>\n        )}\n      </div>\n\n      {/* Primary action: Next/Finish */}\n      {showNextButton && (\n        <Button\n          variant={primaryVariant}\n          size=\"sm\"\n          onClick={() => next()}\n          data-tour-button={isLastStep ? 'finish' : 'next'}\n        >\n          {isLastStep ? (labels?.finish ?? 'Finish') : (labels?.next ?? 'Next')}\n        </Button>\n      )}\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "tour",
    "controls"
  ]
}