{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "tour-progress",
  "type": "registry:component",
  "title": "Tour Progress",
  "description": "A step progress indicator showing current position in the tour.",
  "dependencies": [
    "@flowsterix/react"
  ],
  "registryDependencies": [
    "https://flowsterix.com/r/tour-provider.json"
  ],
  "files": [
    {
      "path": "registry/flowsterix/tour-progress.tsx",
      "content": "'use client'\n\nimport { useTour, useTourLabels } from '@flowsterix/react'\n\nimport { cn } from '@/lib/utils'\n\nexport interface TourProgressProps {\n  /** Additional class names for the progress container */\n  className?: string\n  /** Visual variant of the progress indicator */\n  variant?: 'dots' | 'bar' | 'fraction' | 'steps'\n  /** Size of the progress indicator */\n  size?: 'sm' | 'md' | 'lg'\n  /** Whether to show step labels (only for \"steps\" variant) */\n  showLabels?: boolean\n  /** Custom formatter for step progress aria-label (overrides provider labels) */\n  ariaStepProgress?: (params: { current: number; total: number }) => string\n}\n\nexport function TourProgress({\n  className,\n  variant = 'dots',\n  size = 'md',\n  showLabels = false,\n  ariaStepProgress,\n}: TourProgressProps) {\n  const { state, activeStep, flows, activeFlowId } = useTour()\n  const labels = useTourLabels()\n  const formatAriaLabel = ariaStepProgress ?? labels.ariaStepProgress\n\n  const isRunning = state?.status === 'running'\n  const currentIndex = state?.stepIndex ?? 0\n  const flow = activeFlowId ? flows.get(activeFlowId) : null\n  const totalSteps = flow?.steps.length ?? 0\n\n  if (!isRunning || !activeStep || totalSteps === 0) {\n    return null\n  }\n\n  const sizeClasses = {\n    sm: 'h-1.5 w-1.5',\n    md: 'h-2 w-2',\n    lg: 'h-2.5 w-2.5',\n  }\n\n  const barHeightClasses = {\n    sm: 'h-1',\n    md: 'h-1.5',\n    lg: 'h-2',\n  }\n\n  if (variant === 'dots') {\n    return (\n      <div\n        className={cn('flex items-center justify-center gap-1.5', className)}\n        role=\"progressbar\"\n        aria-valuenow={currentIndex + 1}\n        aria-valuemin={1}\n        aria-valuemax={totalSteps}\n        aria-label={formatAriaLabel({ current: currentIndex + 1, total: totalSteps })}\n      >\n        {Array.from({ length: totalSteps }).map((_, index) => (\n          <span\n            key={index}\n            className={cn(\n              'rounded-full transition-all duration-200',\n              sizeClasses[size],\n              index === currentIndex\n                ? 'bg-primary scale-125'\n                : index < currentIndex\n                  ? 'bg-primary/60'\n                  : 'bg-muted-foreground/30',\n            )}\n            aria-hidden=\"true\"\n          />\n        ))}\n      </div>\n    )\n  }\n\n  if (variant === 'bar') {\n    const progress = ((currentIndex + 1) / totalSteps) * 100\n\n    return (\n      <div\n        className={cn('w-full', className)}\n        role=\"progressbar\"\n        aria-valuenow={currentIndex + 1}\n        aria-valuemin={1}\n        aria-valuemax={totalSteps}\n        aria-label={formatAriaLabel({ current: currentIndex + 1, total: totalSteps })}\n      >\n        <div\n          className={cn(\n            'w-full overflow-hidden rounded-full bg-muted',\n            barHeightClasses[size],\n          )}\n        >\n          <div\n            className={cn(\n              'h-full rounded-full bg-primary transition-all duration-300 ease-out',\n            )}\n            style={{ width: `${progress}%` }}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  if (variant === 'fraction') {\n    return (\n      <div\n        className={cn('text-sm font-medium text-muted-foreground', className)}\n        role=\"status\"\n        aria-label={formatAriaLabel({ current: currentIndex + 1, total: totalSteps })}\n      >\n        <span className=\"text-foreground\">{currentIndex + 1}</span>\n        <span className=\"mx-1\">/</span>\n        <span>{totalSteps}</span>\n      </div>\n    )\n  }\n\n  // variant === 'steps'\n  return (\n    <div\n      className={cn('flex items-center gap-2', className)}\n      role=\"progressbar\"\n      aria-valuenow={currentIndex + 1}\n      aria-valuemin={1}\n      aria-valuemax={totalSteps}\n      aria-label={formatAriaLabel({ current: currentIndex + 1, total: totalSteps })}\n    >\n      {flow?.steps.map((step, index) => (\n        <div\n          key={step.id}\n          className={cn(\n            'flex items-center gap-1.5',\n            index < totalSteps - 1 && 'flex-1',\n          )}\n        >\n          {/* Step indicator */}\n          <div\n            className={cn(\n              'flex items-center justify-center rounded-full text-xs font-medium transition-all',\n              size === 'sm' && 'h-5 w-5',\n              size === 'md' && 'h-6 w-6',\n              size === 'lg' && 'h-7 w-7',\n              index === currentIndex\n                ? 'bg-primary text-primary-foreground ring-2 ring-primary/30'\n                : index < currentIndex\n                  ? 'bg-primary/80 text-primary-foreground'\n                  : 'bg-muted text-muted-foreground',\n            )}\n          >\n            {index < currentIndex ? (\n              <CheckIcon className=\"h-3 w-3\" />\n            ) : (\n              index + 1\n            )}\n          </div>\n\n          {/* Step label */}\n          {showLabels && (\n            <span\n              className={cn(\n                'hidden text-xs sm:inline',\n                index === currentIndex\n                  ? 'font-medium text-foreground'\n                  : 'text-muted-foreground',\n              )}\n            >\n              {step.id}\n            </span>\n          )}\n\n          {/* Connector line */}\n          {index < totalSteps - 1 && (\n            <div\n              className={cn(\n                'h-0.5 flex-1 transition-colors',\n                index < currentIndex ? 'bg-primary/60' : 'bg-muted',\n              )}\n            />\n          )}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nfunction CheckIcon({ className }: { className?: string }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className={className}\n    >\n      <polyline points=\"20 6 9 17 4 12\" />\n    </svg>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "tour",
    "progress"
  ]
}