{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "delay-progress-bar",
  "type": "registry:component",
  "title": "Delay Progress Bar",
  "description": "Countdown progress bar for auto-advance delay steps.",
  "dependencies": [
    "@flowsterix/react"
  ],
  "registryDependencies": [
    "https://flowsterix.com/r/tour-provider.json"
  ],
  "files": [
    {
      "path": "registry/flowsterix/delay-progress-bar.tsx",
      "content": "'use client'\n\nimport { useDelayAdvance, useTourLabels } from '@flowsterix/react'\n\nimport { cn } from '@/lib/utils'\n\nexport interface DelayProgressBarProps {\n  className?: string\n  trackClassName?: string\n  indicatorClassName?: string\n  labelClassName?: string\n  showCountdown?: boolean\n  /** Custom formatter for remaining time (overrides provider labels) */\n  formatRemaining?: (milliseconds: number) => string\n  /** Custom aria-label for the progress bar (overrides provider labels) */\n  ariaLabel?: string\n}\n\nexport function DelayProgressBar({\n  className,\n  trackClassName,\n  indicatorClassName,\n  labelClassName,\n  showCountdown = true,\n  formatRemaining,\n  ariaLabel,\n}: DelayProgressBarProps) {\n  const progress = useDelayAdvance()\n  const labels = useTourLabels()\n  const formatter = formatRemaining ?? ((ms: number) => labels.formatTimeRemaining({ ms }))\n  const resolvedAriaLabel = ariaLabel ?? labels.ariaDelayProgress\n\n  if (!progress.flowId || progress.totalMs <= 0) {\n    return null\n  }\n\n  const fillRatio = Math.min(1, Math.max(0, progress.fractionElapsed))\n  const elapsedMs = Math.max(0, progress.totalMs - progress.remainingMs)\n\n  return (\n    <div className={cn('flex w-full flex-col gap-2', className)}>\n      <div\n        className={cn(\n          'h-2 w-full overflow-hidden rounded-full bg-muted',\n          trackClassName,\n        )}\n        role=\"progressbar\"\n        aria-valuemin={0}\n        aria-valuemax={progress.totalMs}\n        aria-valuenow={elapsedMs}\n        aria-label={resolvedAriaLabel}\n      >\n        <div\n          className={cn(\n            'h-full w-full bg-primary transition-transform duration-200 ease-out',\n            indicatorClassName,\n          )}\n          style={{\n            transform: `scaleX(${fillRatio})`,\n            transformOrigin: 'left center',\n            willChange: 'transform',\n          }}\n        />\n      </div>\n      {showCountdown ? (\n        <span\n          className={cn(\n            'text-xs font-medium text-muted-foreground',\n            labelClassName,\n          )}\n        >\n          {formatter(progress.remainingMs)}\n        </span>\n      ) : null}\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "categories": [
    "tour",
    "progress",
    "delay"
  ]
}